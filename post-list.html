<main>
  <h1>📌 자유게시판</h1>

  <ul class="post-list" id="postList">
    <!-- 게시글 목록은 JS로 동적 생성 -->
  </ul>

  <div class="no-posts" id="noPosts" style="display:none;">
    작성된 글이 없습니다.
  </div>

  <div class="pagination" id="pagination">
    <!-- 페이지 버튼들 -->
  </div>
</main>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    color: #333;
  }

  main {
    padding: 40px 20px;
    max-width: 1000px;
    margin: auto;
  }

  main h1 {
    border-bottom: 2px solid #ccc;
    padding-bottom: 10px;
    margin-bottom: 30px;
    font-size: 2em;
  }

  ul.post-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  ul.post-list li {
    padding: 15px 0;
    border-bottom: 1px dashed #ddd;
  }

  ul.post-list li a.title {
    text-decoration: none;
    color: #333;
    font-weight: bold;
    font-size: 1.1em;
    display: block;
    margin-bottom: 6px;
  }

  ul.post-list li a.title:hover {
    text-decoration: underline;
  }

  .post-meta {
    font-size: 0.9em;
    color: #777;
  }

  .post-meta span {
    margin-right: 15px;
  }

  .no-posts {
    padding: 20px;
    color: #888;
    text-align: center;
    border: 1px dashed #ccc;
    margin-top: 30px;
  }

  .pagination {
    margin-top: 30px;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 8px;
  }

  .pagination button {
    background-color: white;
    border: 1px solid #ccc;
    padding: 6px 12px;
    cursor: pointer;
    border-radius: 4px;
    font-size: 1em;
    min-width: 36px;
    transition: background-color 0.3s, color 0.3s;
  }

  .pagination button:hover {
    background-color: #333;
    color: white;
    border-color: #333;
  }

  .pagination button.active {
    background-color: #333;
    color: white;
    border-color: #333;
    cursor: default;
  }

  @media (max-width: 768px) {
    main {
      padding: 20px;
    }

    .pagination {
      gap: 6px;
    }

    .pagination button {
      padding: 8px 10px;
      min-width: 30px;
      font-size: 0.9em;
    }
  }
</style>

<script>
  const posts = [
    { title: '[공지] 자유게시판 이용 규칙 안내', author: '관리자', date: '2025-07-01' },
    { title: '오늘 자동매매 수익 공유합니다!', author: '홍길동', date: '2025-07-25' },
    { title: '혹시 RSI 기준 쓰는 분 계신가요?', author: '이순신', date: '2025-07-23' },
    { title: '비트코인 전략 토론해요', author: '강감찬', date: '2025-07-20' },
    { title: '트레이딩 관련 책 추천해주세요', author: '김유신', date: '2025-07-18' },
    { title: '신규 전략 문의', author: '유재석', date: '2025-07-15' },
    { title: '자동매매 초보 질문 있습니다.', author: '박명수', date: '2025-07-13' },
    { title: '시스템 오류 문의', author: '정형돈', date: '2025-07-10' },
    { title: '백테스트 결과 공유', author: '하하', date: '2025-07-08' },
    { title: '알고리즘 개선 아이디어', author: '양세형', date: '2025-07-05' },
    { title: '최근 시장 동향', author: '조세호', date: '2025-07-03' },
    { title: '이벤트 안내', author: '김종국', date: '2025-07-01' },
    { title: 'API 사용법 질문', author: '강호동', date: '2025-06-28' },
    { title: '트레이딩 봇 설정법', author: '서장훈', date: '2025-06-25' },
    { title: '서버 안정화 작업 완료', author: '김종민', date: '2025-06-20' },
  ];

  const postsPerPage = 10;
  let currentPage = 1;

  const postListEl = document.getElementById('postList');
  const paginationEl = document.getElementById('pagination');
  const noPostsEl = document.getElementById('noPosts');

  function renderPosts() {
    postListEl.innerHTML = '';

    if(posts.length === 0) {
      noPostsEl.style.display = 'block';
      paginationEl.style.display = 'none';
      return;
    } else {
      noPostsEl.style.display = 'none';
      paginationEl.style.display = 'flex';
    }

    const start = (currentPage -1) * postsPerPage;
    const end = start + postsPerPage;
    const pagePosts = posts.slice(start, end);

    for(const post of pagePosts) {
      const li = document.createElement('li');

      const a = document.createElement('a');
      a.href = "#";
      a.textContent = post.title;
      a.className = 'title';

      const meta = document.createElement('div');
      meta.className = 'post-meta';
      meta.innerHTML = `
        <span>작성자: ${post.author}</span>
        <span>작성일: ${post.date}</span>
      `;

      li.appendChild(a);
      li.appendChild(meta);
      postListEl.appendChild(li);
    }
  }

  function renderPagination() {
    paginationEl.innerHTML = '';
    const totalPages = Math.ceil(posts.length / postsPerPage);

    for(let i=1; i<=totalPages; i++) {
      const btn = document.createElement('button');
      btn.textContent = i;
      if(i === currentPage) {
        btn.classList.add('active');
        btn.disabled = true;
      }
      btn.addEventListener('click', () => {
        currentPage = i;
        renderPosts();
        renderPagination();
        window.scrollTo({top: 0, behavior: 'smooth'});
      });
      paginationEl.appendChild(btn);
    }
  }

  renderPosts();
  renderPagination();
</script>
